<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- Copyright 2003 Joyce Park -->
<html>
<head>
<title>mod_pubsub homepage</title>
<style type="text/css">@import "../../kn_docs/mps.css";</style>
</head>

<body>

<!-- start main -->
<div id="main">

<!-- start header -->
<div id="serendipity_banner">
<h1>mod_pubsub</h1>
<h2>publish and subscribe messaging for the web.</h2>

<a href="http://sourceforge.net/projects/mod-pubsub">
<img title="mod_pubsub: publish and subscribe messaging for the web."
     alt="mod_pubsub: publish and subscribe messaging for the web."
     src="../../kn_docs/pubsub.gif" width="185" height="72" border="0"
     align="left" valign="bottom"></a>
</div>
<!-- end header -->


<!-- start content -->
<div id="content">
  <h3 class="faq">Count connections</h3>

  <div align="center">
    <iframe frameborder="0" src="http://www.mod-pubsub.org/kn_apps/statwatch/connect_count_dom.html" width="180" height="25" marginwidth="0" marginheight="0" scrolling "off"></iframe>
  </div>

    <p class="indent50">This counter shows the number of clients connected to the mod-pubsub.org server right now.  It's the very simplest example we have of how to subscribe to mod-pubsub data in the browser.</p>

    <p class="indent50">The mod-pubsub server is generating and publishing this particular piece of data automatically, so you don't have to worry about publishing yet.  Each mod-pubsub server keeps track of how many connections have been opened and closed, and whenever that number changes it POSTs an update to the /kn_statistics/liveconns topic.</p>

    <p class="indent50">We use a small JavaScript library, called kn_lib, to help us get that data as a JavaScript object via the kn_subscribe() function, and then we drop the data into a very simple DHTML page (in this case, inside an IFRAME for convenience) by means of the innerHTML method.  See for yourself how simple the code is by viewing source <a href="/kn_apps/statwatch/connect_count_dom.html">on this page</a>.</p>

    <p class="indent50">Why does the box say "Updates on change" when it first appears?  Due to the design of our system, we can only get data that arrives at the server <em>after</em> our JavaScript library establishes a connection.  There is no good way to ask for a dump of pre-existing data.  Therefore, we can't give you an initial count as soon as the widget is initialized -- only when a new connection is made, or an old one breaks off.</p>

</div>
<!-- end content -->


<!-- start sidebar -->

<!-- here's the nav anchor link -->
<a name="#nav" class="skip"></a>
<div id="serendipityLeftSideBar">
    <div class="serendipitySideBarItem">
        <h3 class="serendipitySideBarTitle">Site Features</h3>
        <ul class="serendipitySideBarContent">
        <li><a href='http://www.mod-pubsub.org/index.html/'>Home</a></li>                 
        <li><a href='http://www.mod-pubsub.org/kn_docs/faq.html'>FAQ</a></li>
        <li><a href='http://www.mod-pubsub.org/moinmoin/FrontPage'>Wiki</a></li>
        <li><a href='http://www.mod-pubsub.org/inventory.html'>Package Overview</a></li>
        <li><a href='http://sourceforge.net/project/showfiles.php?group_id=66293'>Download</a></li>
        <li><a href='http://www.mod-pubsub.org/kn_apps/presence1/'>Caf&eacute; PubSub (chat)</a></li>
        <li><a href='http://www.mod-pubsub.org/kn_apps/blogchatter'>BlogChatter</a></li>
        <li><a href='http://www.mod-pubsub.org/kn_apps/'>Demo apps</a></li>
        <li><a href='http://www.mod-pubsub.org/blog/index.php'>Blog</a></li>
        </ul>
    </div>

</div>
<!-- end sidebar -->


</div>
<!-- end main -->

</body>
</html>
