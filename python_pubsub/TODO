----------------------------
To Do List for Python PubSub
----------------------------
$Id: TODO,v 1.14 2003/04/29 06:44:17 ifindkarma Exp $

 1. Finish test suite for pubsublib.py .
 2. Write chat.py and ping.py that use pubsublib.py .
 3. Off host routes and kn_content_transform in pubsub.py .
 4. Make a cleaner.py which removes expired events.
    Note: this client can work for both pubsub.py and pubsub.cgi .
 5. Fix bridge.py to use pubsublib.py to
    bridge instances of pubsub.py and pubsub.cgi.
 6. Add SSL support.
 7. Add CGI support to pubsub.py.
 8. Find out which of (asyncore.py, cgi.py, cgitb.py, inspect.py, pydoc.py)
    can be removed from cvs because they ship with the standard Python
    distribution and have not been modified here.
 9. Handle log file size overflow.  Perhaps log rotation or compaction?
10. Verbose vs. non-verbose code not covered.
11. Task.__repr__ never called.
12. Scheduled tasks never have errors.
13. Schedule never empty, so poll(None) never happens.
14. Events never get compared to non-events.
15. Illegal topic name characters never happen.
16. Never create tunnels from non-journal topics.
17. Never posted to a dead tunnel (when not restoring from persistent store).
18. Never pickled tunnels (when not saving to persistent store).
19. ev_encode's exception handler for string.join (needs to go away).
20. is_utf8 never gets exceptions raised in it,
    and its exception handler is stupid anyway.
21. server.handle_error never gets called.
22. simple-format responses never get sent except to tunnels.
23. Bad HTTP request lines never happen.
24. We never parse HTTP response headers.
25. We never get HTTP requests with continuation lines.
26. We never get HTTP request lines without colons.
27. We never get multiple HTTP headers with the same name
    and have to join them with commas
28. libform and lib2form don't get tested by the automated tests.
29. do_method=route defaulting for GET requests not tested.
30. 'Welcome to pubsub.py' never gets run.
31. '404 Not Found' never gets sent.
32. Non-{GET,HEAD,POST} requests never get sent.
33. send_response's '500 Internal Server Error' catch
    never gets run for some reason.
34. self.sockname never gets interpolated into a string
    because Host: headers are always sent.
35. Connection.repr never gets called because it has the wrong name.
36. FinishRouting, ReportRouteStatus, and HttpClient are unused.
37. Not serving any .gif or .jpg or default files in the automated tests.
38. Most of read_event_pool and write_event_pool don't run.
39. Most of the option parsing doesn't run normally.
40. Pythonize kn_tools/list_*.plx
41. asyncore is a global.
    Need to make it parameterized to allow multi-threaded use.

*** 42. Investigate replacing asyncore with Twisted Matrix:  ************************

    http://twistedmatrix.com/

    Twisted Matrix Laboratories is a distributed group of open-source
    developers working on Twisted, an event-driven networking framework
    written in Python and licensed under the LGPL. Twisted supports TCP,
    UDP, SSL/TLS, multicast, Unix sockets, a large number of protocols
    (including HTTP, NNTP, SSH, IRC, FTP, and others), and much more.

    This would give us much cleaner multiprotocol handling.  It has some
    very useful abstractions that we don't have yet, such as a
    non-polling Reactor.

